# CLAUDE.md — [Project Name]

> This file lives in the root of a specific repository and is **committed to version control**.
> It adds project-specific context on top of your global and workspace CLAUDE.md files.
> Every team member who uses Claude Code in this repo benefits from it.

---

## Project Overview

[2–3 sentence description of what this repository does, what infrastructure or system it manages, and who owns it.]

Example:
> This is the Terraform + Ansible codebase for provisioning the ACME SaaS platform on GCP.
> It manages compute, Cloud SQL, networking, and per-customer cell configurations for federal customers.

---

## Key File Structure

```
*.tf              — Terraform infrastructure definitions
ansible/          — Ansible playbooks and roles
ansible/playbooks/
ansible/roles/
runbooks/         — Operational runbooks and troubleshooting guides
modules/          — Reusable Terraform modules
```

---

## Environments

| Environment | How to target |
|-------------|--------------|
| staging      | `export TF_VAR_environment=staging && ./fetch-stage-info.sh` |
| prod         | `export TF_VAR_environment=prod && ./fetch-stage-info.sh` |

**Always target staging first.** Validate fully before running against prod.

---

## Permissions in This Repo

- **Read-only operations** (file reads, `git status`, `terraform plan`, `ansible --check`): automatically approved
- **Write operations** (file edits, `terraform apply`, playbook runs, commits): require explicit approval
- **If unsure whether something is read-only**: ask before proceeding

---

## Generated Files — Do Not Edit Directly

The following files are generated by automation and must not be edited manually:

- `*.lock.hcl` — Terraform lock files (generated by `terraform init`)
- `*-providers.tf` — Environment-specific provider configs (generated by `fetch-stage-info.sh`)
- `*.auto.tfvars.json` — Environment-specific tfvars (downloaded by `fetch-stage-info.sh`)

---

## Before You Start

Read these documents before making changes:

- `runbooks/README.md` — Index of all operational runbooks
- `runbooks/project-101.md` — Comprehensive operations guide

---

## Terraform

```bash
# Switch environment
export TF_VAR_environment=staging
./fetch-stage-info.sh

# Plan
terraform plan

# Apply (requires explicit approval)
terraform apply
```

Never run `terraform init` directly — always use `fetch-stage-info.sh`.

---

## Ansible

```bash
# Always cd into ansible/ first — ansible.cfg is required
cd ansible/

# Always limit to a specific environment or host group
ansible-playbook playbooks/example.yml --limit staging
```

---

## Key Contacts

| Role | Name |
|------|------|
| Repo owner | [Name] |
| On-call | See PagerDuty rotation |
